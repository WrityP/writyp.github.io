(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{571:function(e,a,r){Promise.resolve().then(r.bind(r,9537))},9537:function(e,a,r){"use strict";r.d(a,{default:function(){return y}});var t=r(7437),n=r(2265);function s(e){let{url:a}=e;return(0,t.jsx)("div",{className:"h-1/2 m-2",children:(0,t.jsx)("img",{className:"img-fluid rounded-md",style:{border:"2px solid white"},src:"./img/"+a,alt:""})})}function l(e){let{current:a,max:r,hasIncreased:n}=e;var s=Math.floor((a=a>r?r:a)/r*100)+"%";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"w-full bg-gray-700 rounded-full h-2.5 relative",children:[(0,t.jsx)("div",{className:"bg-green-400 h-2.5 rounded-full absolute left-0 top-0",style:{width:s}}),(0,t.jsx)("div",{className:n?"absolute left-0 top-0 opacity-0":"bg-red-800 h-2.5 rounded-full absolute left-0 top-0 lazybar",style:{width:s}}),(0,t.jsx)("div",{className:n?"bg-red-500 h-2.5 rounded-full absolute left-0 top-0 lazybar":"bg-red-500 h-2.5 rounded-full absolute left-0 top-0",style:{width:s}})]}),(0,t.jsxs)("div",{className:"w-full bg-transparent mb-4 text-black text-xs text-center",children:[a,"/",r]})]})}function c(e){let{unspent:a}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"flex-none h-4 w-4 mx-1 bg-gray-500",children:(0,t.jsx)("div",{className:"lazypoint p-1 bg-gradient-to-t from-yellow-600 to-yellow-100 "+(a?"opacity-100":"opacity-0"),children:(0,t.jsx)("div",{className:"h-2 w-2 bg-gray-500",children:"\xa0"})})})})}function i(e){let{current:a,max:r}=e;var n=[];for(let e=0;e<r;e++)n.push((0,t.jsx)(c,{unspent:e<a}));return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"flex justify-center",children:n})})}function d(e){let{url:a,name:r,HP_current:n,HP_max:c,HP_hasIncreased:d,AP_current:o,AP_max:m}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"z-10 h-64 w-48 flex-col items-center justify-between text-center rounded-md p-3 border-slate-500 border shadow from-yellow-100 to-slate-50 bg-gradient-to-t",children:[(0,t.jsx)("h1",{children:r}),(0,t.jsx)(s,{url:a}),(0,t.jsx)(l,{current:n,max:c,hasIncreased:d}),(0,t.jsx)(i,{current:o,max:m})]})})}function o(e){let{path:a="M371.148 21.422c-47.943.474-94.522 30.346-106.605 84.855 23.308 25.97 35.25 59.46 30.36 94.453l-18.51-2.585c6.01-43.03-18.18-83.975-60.573-106.483-30.015-13.248-62.242-15.24-91.802-8.28l-6.82 1.147c.035.21.058.394.093.603-.275.08-.552.152-.827.232.297.04.59.09.887.135 3.047 18.48 3.43 30.233 1.01 38.135-2.465 8.044-7.604 13.897-19.858 21.88l-10.947 7.13 10.287 8.056c21.587 16.905 26.17 33.387 22.36 44.382-3.81 10.995-17.38 20.564-42.932 20.02l-11.91-.254 2.59 11.627c3.902 17.518 2.97 29.854-.3 37.894s-8.532 12.52-16.617 15.308l.006.015-7.91 2.555C112.05 394.053 302.19 431.686 337.77 493.3c0-88.87 183.898-228.256 149.855-373.734-15.838-67.674-66.885-98.634-116.475-98.144zm-233.69 72.246c21.017 14.63 31.41 45.175 15.14 71.9 96.352-16.05 73.76 120.85 5.703 101.38-19.06 41.176-62.37 43.628-87.2 32.82 5.938-4.656 10.792-10.806 13.863-18.36 4.23-10.4 5.16-23.078 3.094-37.998 25.026-2.268 43.544-14.152 49.802-32.21 6.223-17.957-.74-38.94-19.358-57.192 8.663-7.18 14.733-15.126 17.727-24.897 3.145-10.27 3.022-21.51 1.227-35.442z",className:r}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:r,children:[(0,t.jsx)("path",{d:"M0 0h512v512H0z",className:"fill-none"}),(0,t.jsx)("path",{fill:"#fff",d:a,className:"fill-inherit"})]})})}function m(e){let{path:a,className:r,onClick:n}=e;return(0,t.jsx)("button",{className:r+"h-12 w-12 rounded-lg p-2 shadow-slate-900/80 [&:only-child]:col-span-3",onClick:n,children:(0,t.jsx)(o,{path:a,className:"fill-white"})})}function u(e){let{type:a,path:r,onClick:n}=e;switch(a){case"attack":return(0,t.jsx)(m,{className:"bg-red-800 shadow-md hover:bg-red-600 border border-red-950 transition-colors duration-300",path:r,onClick:n});case"defend":return(0,t.jsx)(m,{className:"bg-yellow-600 shadow-md hover:bg-yellow-400 border border-yellow-950 transition-colors duration-300",path:r,onClick:n});case"heal":default:return(0,t.jsx)(m,{className:"bg-green-800 shadow-md hover:bg-green-600 border border-green-950 transition-colors duration-300",path:r,onClick:n});case"spell":return(0,t.jsx)(m,{className:"bg-purple-800 shadow-md hover:bg-purple-600 border border-purple-950 transition-colors duration-300",path:r,onClick:n})}}var h=r(1444);let p=h.I0.withTypes(),x=h.v9.withTypes();h.oR.withTypes();var f=JSON.parse('{"S_":"M124.812 388.907a60.718 60.718 0 0 0 16.564 11.588L107.28 435.07a48.756 48.756 0 0 0-28.35-28.006l34.16-34.576a61.093 61.093 0 0 0 11.722 16.42zm209.598-276.44c-32.754 33.14-57.813 79.127-103.008 124.853-9.13 9.245-40.292 37.355-58.303 53.555l49.223 48.64c15.98-18.24 43.727-49.744 52.858-58.978 45.154-45.726 90.828-71.39 123.57-104.477C452.683 121.485 481 28.492 481 28.492s-92.67 29.4-146.59 83.976zM83.656 430.594a30.92 30.92 0 1 0 .26 43.727 30.817 30.817 0 0 0-.26-43.727zm91.13-40.603c11.16 0 20.822-2.81 24.497-6.56l20.885-21.103-69.88-69.047-20.823 21.135c-7.964 8.068-11.233 43.06 7.85 61.905 10.12 10.026 24.79 13.66 37.47 13.66z","sd":"M480.25 156.355c0 161.24-224.25 324.43-224.25 324.43S31.75 317.595 31.75 156.355c0-91.41 70.63-125.13 107.77-125.13 77.65 0 116.48 65.72 116.48 65.72s38.83-65.73 116.48-65.73c37.14.01 107.77 33.72 107.77 125.14z"}'),g=r(8815);function v(e){let{children:a,className:r}=e;return(0,t.jsxs)("div",{className:"flex "+r,children:[(0,t.jsx)("div",{className:"flex1"}),(0,t.jsx)("div",{className:"mx-auto mt-2 grid grid-cols-3 gap-2 justify-center place-items-center flex-none",children:a}),(0,t.jsx)("div",{className:"flex1"})]})}function y(){let e=x(g.i2),a=x(g.MA),r=x(g.a5),s=x(g.pz),l=(0,n.useRef)(null);(0,n.useEffect)(()=>{l.current.scrollIntoView({behavior:"smooth"})},[s]);let c=p();var i=Object.values(a).map(a=>(0,t.jsxs)("div",{children:[(0,t.jsx)(d,{name:a.name,url:a.avatar,HP_current:a.hp.current,HP_max:a.hp.max,HP_hasIncreased:a.hp.hasIncreased,AP_current:a.ap.current,AP_max:a.ap.max}),(0,t.jsx)(v,{className:e?"":"grayscale [&_button]:cursor-not-allowed",children:(0,t.jsx)(u,{type:"heal",path:f.sd,onClick:()=>c((0,g.tg)())})})]},a.id)),o=Object.values(r).map(a=>(0,t.jsxs)("div",{className:a.hp.current<1?"grayscale":"",children:[(0,t.jsx)(d,{name:a.name,url:a.avatar,HP_current:a.hp.current,HP_max:a.hp.max,HP_hasIncreased:a.hp.hasIncreased,AP_current:a.ap.current,AP_max:a.ap.max}),a.hp.current>0&&(0,t.jsx)(v,{className:e?"":"grayscale [&_button]:cursor-not-allowed",children:(0,t.jsx)(u,{type:"attack",path:f.S_,onClick:()=>c((0,g.zy)(a.id))})})]},a.id)),m=s.map((e,a)=>(0,t.jsx)("div",{children:e},a));return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col w-full flex-1 items-center justify-between",children:[(0,t.jsx)("h1",{className:"font-bold text-7xl mb-6",children:"The Arena"}),(0,t.jsxs)("div",{className:"w-1/2 items-stretch flex justify-around",children:[(0,t.jsx)("div",{children:i}),(0,t.jsx)("div",{className:"text-slate-900 text-lg font-bold flex items-center",children:"VS."}),(0,t.jsx)("div",{children:o})]}),(0,t.jsx)("div",{className:"mt-4 p-3 border-t border-slate-800 text-left w-full",children:(0,t.jsxs)("div",{className:"overflow-y-scroll no-scrollbar w-full h-64",children:[m,(0,t.jsx)("div",{className:"h-0 w-0",ref:l})]})})]})})}},8815:function(e,a,r){"use strict";r.d(a,{zy:function(){return u},tg:function(){return h},of:function(){return m},a5:function(){return b},pz:function(){return N},MA:function(){return j},i2:function(){return w}});var t=r(9753);function n(e,a){return e>a?n(a,e):e+Math.floor(Math.random()*(a+1-e))}var s={},l={};let c=crypto.randomUUID();s[c]=o(c,"Layla","worried_mage.jpg",30,4,6);var i=c;l[c=crypto.randomUUID()]=o(c,"Orc Pirate","orc_pirate.jpg",20,3,4);var d=c;function o(e,a,r){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;return{avatar:r,name:a,id:e,hp:{current:t,max:t,hasIncreased:!0},ap:{current:n,max:n,hasIncreased:!0},damage:s}}let m=(0,t.oM)({name:"game",initialState:{lost:!1,team:s,enemies:l,currentPlayerId:i,yourTurn:!0,logs:["Let the games begin!"],currentEnemyId:d},reducers:{enemyLosesHealth:(e,a)=>{var r=a.payload.amount,t=e.enemies[a.payload.id].hp;r=t.current>r?r:t.current,t.current-=r,t.hasIncreased=!1},changeCharacterHealth:(e,a)=>{var r,t,n=a.payload.amount;if("team"==a.payload.team)var s=e.team[a.payload.id].hp;else var s=e.enemies[a.payload.id].hp;n=s.current>n?n:s.current,s.current=r=(r=(r=s.current+n)>(t=s.max)?t:r)<0?0:r,s.hasIncreased=n>0},endPlayerTurn:e=>{for(let a in e.yourTurn=!1,e.enemies)e.enemies[a].hp.current>0&&(e.enemies[a].ap.current=e.enemies[a].ap.max)},startPlayerTurn:e=>{for(let a in e.yourTurn=!0,e.team)e.team[a].ap.current=e.team[a].ap.max},addLog:(e,a)=>{e.logs.push(a.payload)},characterLosesAP:(e,a)=>{if("team"==a.payload.team)var r=e.team[a.payload.id].ap;else var r=e.enemies[a.payload.id].ap;r.current-=1}}}),u=e=>(a,r)=>{let t=r().game;var s=t.team[t.currentPlayerId],l=t.enemies[e],c=s.damage;if(s.ap.current>0){var i=n(1,c);a(x({id:e,amount:-i,team:"enemies"})),a(f({id:s.id,team:"team"})),a(v(s.name+" deals "+i+" damage to "+l.name+".")),1==s.ap.current&&(a(g()),a(p()))}},h=()=>(e,a)=>{let r=a().game;var t=r.team[r.currentPlayerId];if(t.ap.current>0){var s=n(1,5);e(x({id:r.currentPlayerId,amount:s,team:"team"})),e(f({id:r.currentPlayerId,team:"team"})),e(v(t.name+" heals for "+s+" HP.")),1==t.ap.current&&(e(g()),e(p()))}},p=()=>(e,a)=>{let r=a().game;var t=r.enemies[r.currentEnemyId],s=r.team[r.currentPlayerId];if(!(t.hp.current<1)){if(0==t.ap.current)e(y());else switch(n(0,1)){case 0:var l=t.damage,c=n(1,l);e(x({id:r.currentPlayerId,amount:-c,team:"team"})),e(f({id:t.id,team:"enemies"})),e(v(t.name+" deals "+c+" damage to "+s.name+".")),setTimeout(()=>e(p()),800);break;case 1:var l=t.damage,i=n(1,4);e(x({id:r.currentEnemyId,amount:i,team:"enemies"})),e(f({id:t.id,team:"enemies"})),e(v(t.name+" heals for "+i+" HP.")),setTimeout(()=>e(p()),800)}}},{changeCharacterHealth:x,characterLosesAP:f,endPlayerTurn:g,addLog:v,startPlayerTurn:y}=m.actions,j=e=>e.game.team,b=e=>e.game.enemies,w=e=>e.game.yourTurn,N=e=>e.game.logs;m.reducer}},function(e){e.O(0,[123,971,23,744],function(){return e(e.s=571)}),_N_E=e.O()}]);